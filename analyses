
Retention Rate Correlation with Minority Enrollment
SELECT 
    r.year,
    r.rate AS retention_rate,
    e.minority_percentage
FROM (
    SELECT year, MAX(rate) AS rate FROM (
        SELECT * FROM retention_graduation_rates_2018
        UNION ALL
        SELECT * FROM retention_graduation_rates_2019
        UNION ALL
        SELECT * FROM retention_graduation_rates_2020
        UNION ALL
        SELECT * FROM retention_graduation_rates_2021
        UNION ALL
        SELECT * FROM retention_graduation_rates_2022
        UNION ALL
        SELECT * FROM retention_graduation_rates_2023
    ) AS retention
    WHERE metric LIKE '%Retention%'
    GROUP BY year
) AS r
JOIN (
    SELECT 
        year,
        ROUND((SUM(CASE WHEN ethnicity = 'Minority Subtotal' THEN count END) /
        SUM(count)) * 100, 2) AS minority_percentage
    FROM (
        SELECT * FROM race_ethnicity_2018
        UNION ALL
        SELECT * FROM race_ethnicity_2019
        UNION ALL
        SELECT * FROM race_ethnicity_2020
        UNION ALL
        SELECT * FROM race_ethnicity_2021
        UNION ALL
        SELECT * FROM race_ethnicity_2022
        UNION ALL
        SELECT * FROM race_ethnicity_2023
    ) AS demographics
    GROUP BY year
) AS e
ON r.year = e.year;

Predictive Analysis:

    Forecast future enrollment or graduation rates using SQL-based regression or time-series models.

